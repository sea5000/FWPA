<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Bookme Dashboard</title>
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&amp;display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/theme.css">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <style>
        .material-symbols-outlined {
            font-variation-settings:
                'FILL' 0,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24
        }
  </style>
</head>
<body class="bg-light text-dark">
  <div class="d-flex flex-column min-vh-100">
    <header class="w-100 site-header">
      <div class="container d-flex align-items-center justify-content-between py-3">
        <div class="d-flex align-items-center">
          <div class="me-2" style="width:40px;height:40px;color:var(--bs-primary);">
            <span class="material-symbols-outlined fs-3 text-primary">book</span>
          </div>
          <h1 class="h5 mb-0 ms-2">Bookme</h1>
        </div>
        <nav class="nav-centered d-none d-md-flex align-items-center gap-2">
          <a class="btn btn-sm btn-primary rounded-pill text-white" href="{{ url_for('dashboard.index') }}">Home</a>
          <a class="btn btn-sm btn-light rounded-pill" href="{{ url_for('study.index') }}">Study</a>
          <a class="btn btn-sm btn-light rounded-pill" href="{{ url_for('community.index') }}">Community</a>
          <a class="btn btn-sm btn-light rounded-pill" href="{{ url_for('challenges.index') }}">Challenge</a>
        </nav>
        <div class="d-none d-md-flex align-items-center header-actions">
          <button type="button" class="btn btn-link text-muted p-0 me-3" aria-label="Notifications" title="Notifications">
            <span class="material-symbols-outlined">notifications</span>
          </button>

          <!-- Profile dropdown -->
          <div class="dropdown">
            <a class="btn btn-link text-muted p-0 dropdown-toggle" href="{{ url_for('profile.index') }}" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Profile" title="Profile">
              <span class="material-symbols-outlined fs-3">account_circle</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
              <li><h6 class="dropdown-header">Account</h6></li>
              <li><a class="dropdown-item" href="{{ url_for('profile.index') }}">Profile & Settings</a></li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <form method="POST" action="{{ url_for('auth.logout') }}" class="m-0">
                  <button type="submit" class="dropdown-item">Log out</button>
                </form>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>
    <main class="flex-grow-1 container py-4">
      <div class="mb-8">
        <h2 class="text-3xl font-extrabold text-slate-900 dark:text-white">Welcome back, {{profileData.name}}!</h2>
        <p class="text-slate-500 dark:text-slate-400 mt-1">Ready to crush your goals today?</p>
      </div>
      <div class="mb-8 bg-white dark:bg-slate-900/50 p-4 rounded-xl flex items-center gap-4 shadow-sm">
        <div class="bg-primary/20 text-primary p-3 rounded-lg">
          <span class="material-symbols-outlined text-3xl">local_fire_department</span>
        </div>
        <div>
          <p class="text-2xl font-bold text-slate-900 dark:text-white">{{studyData.streak}} Day Streak</p>
          <p class="text-slate-500 dark:text-slate-400 text-sm">Keep it going!</p>
          <a href="{{ url_for('streak.index') }}" class="btn btn-sm btn-primary rounded-pill mt-2">Check Streak Details here</a>
        </div>
      </div>
      <div class="row g-4">
        <div class="col-12 col-md-6 col-lg-4">
         <a class="card h-100 text-decoration-none text-reset" href="{{ url_for('study.index') }}">
          <div class="card-img-top" style="height:192px; background-size:cover; background-position:center; background-image:url('https://lh3.googleusercontent.com/aida-public/AB6AXuD7LdNx_ViIAXDvKs8gevmNtu5dBmmn2rD5UGO9aoti9wNL1uuW8KN3kmZzDSuJlGRwI0fk0-x5TJ9N6aAQhBTRqnTl0ob5YPBZY7RIxvo04rbLBj1rWMtdD4z9iwymqLV3mtdWvA_6H97Kaa5kdh5zPgSj8aFqmDCqfocZPmdqSimb8jPVF4awa2XdA0K2ue-vOwZjhkESD1vUDi6DgMA26R9UMcUJ1YAbz8fJuxMBhpqUPyCv4AF06hdSt2ofpvFnMlaEeIkYzzZB');"></div>
          <div class="card-body">
            <div class="d-flex align-items-center gap-2 mb-2">
              <span class="material-symbols-outlined text-primary">school</span>
              <h3 class="h5 mb-0">Study</h3>
            </div>
            <p class="text-muted small">Focus & Productivity. Dive into your study sessions, track your progress, and unlock achievements.</p>
          </div></a>
        </div>
        <div class="col-12 col-md-6 col-lg-4">
         <a class="card h-100 text-decoration-none text-reset" href="{{ url_for('community.index') }}">
          <div class="card-img-top" style="height:192px; background-size:cover; background-position:center; background-image:url('https://lh3.googleusercontent.com/aida-public/AB6AXuDU3G6GtnPefYHQJZy9EyhIiRrTfkwaa2dtZlHhdfSsSSSvccJYqRw3abU5N0M5Oe_HY8WqopfdP5rR95I_w04pX4WTpo-eBYBms5vzzSTUd8yGIctqwakNgk5LLDvA3j7_xngpKU1q3oDZqP8waumImAVHOpSWjJuVZfnz8c52QTab9WQsKPZrMM00LUJ6kgmySl-LKc0_juz_kj85H7vpmbmTmlTg2_wq4yqAgGVkpbhlYJyRJa0PLl_HYBoZZUW1VmwwTUhbbmoh');"></div>
          <div class="card-body">
            <div class="d-flex align-items-center gap-2 mb-2">
              <span class="material-symbols-outlined text-primary">groups</span>
              <h3 class="h5 mb-0">Community</h3>
            </div>
            <p class="text-muted small">Connect & Collaborate. Connect with fellow learners, share insights, and collaborate on projects.</p>
          </div></a>
        </div>
        <div class="col-12 col-md-6 col-lg-4">
         <a class="card h-100 text-decoration-none text-reset" href="{{ url_for('challenges.index') }}">
          <div class="card-img-top" style="height:192px; background-size:cover; background-position:center; background-image:url('https://lh3.googleusercontent.com/aida-public/AB6AXuDQBOC3LXf_M-2k2Iosn4PTaY9sqpTG7SnGLeo8NrBq8aKJhDyI4Ont69yM0glOPxAfiGesZMJlD7YsqQC_R--umsPPVecvD9owxwQqTIVVHFt9SCk9Ms10UASd30xWTuesB3qBrdXWAmiAzRDi8qGyVJPD3QgTJddSZ5B5eqhT7s66-AkiUaq-E6A3gNcguVjIoersRjkaxbY7xjGPYUGQ03nTNFzgqBHlwKUDtkuC1RZ9981ra_-FdmHtxxVzC3HERYifW3ZwOYyf');"></div>
          <div class="card-body">
            <div class="d-flex align-items-center gap-2 mb-2">
              <span class="material-symbols-outlined text-primary">emoji_events</span>
              <h3 class="h5 mb-0">Challenge</h3>
            </div>
            <p class="text-muted small">Compete & Achieve. Participate in challenges, earn rewards, and climb the leaderboard.</p>
          </div></a>
        </div>
      </div>
    </main>
    <footer class="d-md-none fixed-bottom bg-white border-top">
        <nav class="nav justify-content-around py-2">
          <a class="nav-link d-flex flex-column align-items-center text-muted" href="{{ url_for('home.index') }}"><span class="material-symbols-outlined fs-4">home</span> <small class="d-block">Home</small></a> <a class="nav-link d-flex flex-column align-items-center text-muted" href="{{ url_for('study.index') }}"><span class="material-symbols-outlined fs-4">school</span> <small class="d-block">Study</small></a> <a class="nav-link d-flex flex-column align-items-center text-muted" href="{{ url_for('community.index') }}"><span class="material-symbols-outlined fs-4">groups</span> <small class="d-block">Community</small></a> <a class="nav-link d-flex flex-column align-items-center text-muted" href="{{ url_for('challenges.index') }}"><span class="material-symbols-outlined fs-4">emoji_events</span> <small class="d-block">Challenge</small></a>
      </nav>
    </footer>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap/dist/js/bootstrap.bundle.min.js"></script> 
  <script>

    // Highlight header/footer nav link using the folder slug
    document.addEventListener('DOMContentLoaded', function () {
        try {
            const navAreas = [];
            const header = document.querySelector('header');
            if (header) navAreas.push(header);
            const footers = Array.from(document.querySelectorAll('footer'));
            navAreas.push(...footers);

            const parts = location.pathname.split('/').filter(Boolean);
            const currentSlug = parts.length >= 2 ? parts[parts.length - 2] : (parts[0] || 'home');

            navAreas.forEach(area => {
                const links = Array.from(area.querySelectorAll('a[href]'));
                links.forEach(a => {
                    try {
                        const url = new URL(a.getAttribute('href'), location.origin);
                        const linkParts = url.pathname.split('/').filter(Boolean);
                        const linkSlug = linkParts.length >= 2 ? linkParts[linkParts.length - 2] : (linkParts[0] || 'home');

                        a.classList.remove('active', 'text-primary', 'fw-bold', 'text-white', 'btn-primary');

                        if (linkSlug === currentSlug) {
                            if (a.classList.contains('btn')) {
                                a.classList.remove('btn-light');
                                a.classList.add('btn-primary', 'text-white');
                            } else {
                                a.classList.add('text-primary', 'fw-bold');
                            }
                            a.classList.add('active');
                        } else {
                            if (!a.classList.contains('btn')) {
                                a.classList.remove('text-primary', 'fw-bold');
                                a.classList.add('text-muted');
                            }
                            if (a.classList.contains('btn') && !a.classList.contains('btn-light')) {
                                a.classList.add('btn-light');
                            }
                        }
                    } catch (e) {}
                });
            });
        } catch (e) {}
    });
  </script>
</body>
</html>
